# ğŸ“ Notion Workspace Manager - Fixed Version

```hive
bot NotionWorkspaceManager
  description "Automates your Notion workspace - creates pages, databases, and manages content"
  
  memory session
    var lastPage string
    var activeDatabase string
    var workspacePages array
  end
  
  on input when input.action == "create_page"
    call integrations.createNotionPage with {
      title: input.title,
      content: input.content or "Created by Bothive bot",
      parent_page_id: input.parent_id
    } as page
    
    set $lastPage to page.id
    say "âœ… Created Notion page: " + page.title
    say "ğŸ”— Page URL: " + page.url
  end
  
  on input when input.action == "create_database"
    call integrations.createNotionDatabase with {
      title: input.title,
      parent_page_id: input.parent_id,
      properties: input.properties or {
        "Name": { "title": {} },
        "Status": { "select": {} }
      }
    } as database
    
    set $activeDatabase to database.id
    say "ğŸ“Š Created database: " + database.title
    say "ğŸ”— Database URL: " + database.url
  end
  
  on input when input.action == "add_database_entry"
    call integrations.addNotionDatabaseEntry with {
      database_id: input.database_id or $activeDatabase,
      properties: input.properties
    } as entry
    
    say "ğŸ“ Added entry to database"
    say "âœ… Entry created successfully"
  end
  
  on input when input.action == "update_page"
    call integrations.updateNotionPage with {
      page_id: input.page_id or $lastPage,
      properties: input.properties
    } as updated
    
    say "ğŸ”„ Updated page: " + updated.title
  end
  
  on input when input.action == "search_pages"
    call integrations.notion.search with {
      query: input.query,
      filter: input.filter or { "property": "object", "value": "page" }
    } as results
    
    set $workspacePages to results.results
    say "ğŸ” Found " + results.results.length + " pages matching: " + input.query
    
    for page in results.results
      say "â€¢ " + page.properties.title.title[0].text.content
    end
  end
  
  on input when input.text contains "create page" or input.text contains "new page"
    say "ğŸ“ I'll help you create a Notion page!"
    say "Please provide:"
    say "â€¢ title: The page title"
    say "â€¢ parent_id: Your Notion page ID (where to create it)"
    say "â€¢ content: (optional) Page content"
    say ""
    say "Example: {\"action\": \"create_page\", \"title\": \"My Page\", \"parent_id\": \"your-page-id\"}"
  end
  
  on input when input.text contains "create database" or input.text contains "new database"
    say "ğŸ“Š I'll help you create a Notion database!"
    say "Please provide:"
    say "â€¢ title: The database title"
    say "â€¢ parent_id: Your Notion page ID (where to create it)"
    say ""
    say "Example: {\"action\": \"create_database\", \"title\": \"My Database\", \"parent_id\": \"your-page-id\"}"
  end
  
  on input when input.text contains "search" or input.text contains "find"
    say "ğŸ” I'll search your Notion workspace!"
    say "What would you like to search for?"
    say ""
    say "Example: {\"action\": \"search_pages\", \"query\": \"meeting notes\"}"
  end
  
  on input
    say "ğŸ¯ Notion Workspace Manager is ready!"
    say "Available actions:"
    say "â€¢ create_page - Create a new page"
    say "â€¢ create_database - Create a new database"
    say "â€¢ search_pages - Search your workspace"
    say "â€¢ add_database_entry - Add to a database"
    say "â€¢ update_page - Update existing page"
    say ""
    say "Just tell me what you want to do, or ask for help!"
  end
end
```